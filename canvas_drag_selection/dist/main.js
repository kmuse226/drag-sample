(()=>{const t=document.querySelector("#drag-box");let e={},l=!1;document.querySelector("canvas").addEventListener("mousedown",(t=>{l=!0,e.x=t.clientX,e.y=t.clientY})),document.querySelector("canvas").addEventListener("mousemove",(i=>{if(!l||i.clientX<0||i.clientY<0)return;const{clientX:n,clientY:s}=i,{x:h,y:o}=e,y=n-h,c=s-o;"1"!==t.style.opacity&&(t.style.opacity=.4),y<0?(t.style.left=n+"px",t.style.width=Math.abs(y)+"px"):(t.style.left=h+"px",t.style.width=y+"px"),c<0?(t.style.top=s+"px",t.style.height=Math.abs(c)+"px"):(t.style.top=o+"px",t.style.height=c+"px")})),t.addEventListener("mouseup",(i=>{l=!1;const s=e.x,h=e.y,o=i.clientX,y=i.clientY;n.forEach((t=>{console.log(`xShape: ${t.x+t.width}`,`yShape: ${t.y+t.height}`,`xStart: ${s}`,`xEnd: ${o}`,`yStart: ${h}`,`yEnd: ${y}`);const e=t.y,l=t.y+t.height,i=t.x,n=t.x+t.width;let c=!1,d=!1,a=!1,x=!1;s<n&&o>i&&h<l&&y>e&&(c=!0),s<n&&o>i&&h>e&&y<l&&(x=!0),s>i&&o<n&&h<l&&y>e&&(d=!0),s>i&&o<n&&h>e&&y<l&&(a=!0),(d||c||a||x)&&console.log(t)})),t.style.opacity=0,t.style.width=0,t.style.height=0}));const i=document.getElementById("canvas").getContext("2d"),n=[];n.push({x:10,y:100,width:30,height:30,fill:"#444444",isDragging:!1}),n.push({x:80,y:100,width:30,height:30,fill:"#ff550d",isDragging:!1}),function(){for(let e=0;e<n.length;e++)n[e].width&&(t=n[e],i.fillStyle=t.fill,i.fillRect(t.x,t.y,t.width,t.height));var t}()})();